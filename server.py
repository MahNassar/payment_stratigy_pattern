from server_notifications.server_notification_context import PaymentServer

# get google from url
# add app id ........


context = PaymentServer("roku")

google_request = {
    "message":
        {
            "publish_time": "2018-04-18T15:54:33.148Z",
            "publishTime": "2018-04-18T15:54:33.148Z",
            "messageId": "75655425772651",
            "attributes":
                {"status": "cancel"},
            "data":
                "eyJ2ZXJzaW9uIjoiMS4wIiwicGFja2FnZU5hbWUiOiJjb20uaW5tb2JseS5hbnR2IiwiZXZlbnRUaW1lTWlsbGlzIjoiMTUyNDA2Njg3MzA1OCIsInN1YnNjcmlwdGlvbk5vdGlmaWNhdGlvbiI6eyJ2ZXJzaW9uIjoiMS4wIiwibm90aWZpY2F0aW9uVHlwZSI6MiwicHVyY2hhc2VUb2tlbiI6InhhbGJoZmlkYnBkZG5oa21hZGNwY29kay5BTy1KMU93d1Zzcl9hdHJ3b0ttNG5yN2ZMY1pmcmVzNzBJSEJoV2J3Z3JsSDZRN2V0bVd6Szl1aHFKWUtmYkdueVQ5UE5reG85eXY0R2QxS1g1VVJmb3ZhS2xJN2FXdUZNNExqdGR2TzZUWWVSQmZyRFl3SkRMZyIsInN1YnNjcmlwdGlvbklkIjoiVzdQdHdnRGRNUSJ9fQ==",
            "message_id": "75655425772651"},
    "subscription": "projects/antv-710e6/subscriptions/sandbox"

}

apple_request = {
    "status": "Renew",
    "latest_receipt": "ewoJInNpZ25hdHVyZSIgPSAiQTFzbjk4ejFJeWdNMENuajhGdlpDa28weldJNWJLVmxVbzl1c3h5Yjk3WldYTklLd1dOenE0ek9sa093dFR6SDN0SnNGbHFKWEJJZVZtaEZWTHVJQnJ6WTlBZ0RQYVh6WmlNNitpS2VlN3pKbG92ME5JT05PU21DaXdnendjLzcxTTBtK2FRNUpUN202RnBHckNaZmo5RUlVMHEzeGtNVU5KZmcxQm5WSFJHTTFZd3BqTmJNMGNRNjcxVG1xcytYMjg3dDVXV0E5ZTFaMnBWdFIzOWw3ajVBTVUyOTdoYkNUK1Fvb3ZGMkdCYTlkdjVTb1lZRkxraXk2ZnNpek85TGtyMnFjcWJQV1IvMC83RjVKSFFKeE1UMFA4TUl4MVB2RkhidkdBc3ZDTno2dzhHYk5KdVlLTzR0ZWFMTnJzMXBCWUJqSkdoUmJlQnFKTk1Oc1dOckJjSUFBQVdBTUlJRmZEQ0NCR1NnQXdJQkFnSUlEdXRYaCtlZUNZMHdEUVlKS29aSWh2Y05BUUVGQlFBd2daWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Td3dLZ1lEVlFRTERDTkJjSEJzWlNCWGIzSnNaSGRwWkdVZ1JHVjJaV3h2Y0dWeUlGSmxiR0YwYVc5dWN6RkVNRUlHQTFVRUF3dzdRWEJ3YkdVZ1YyOXliR1IzYVdSbElFUmxkbVZzYjNCbGNpQlNaV3hoZEdsdmJuTWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhrd0hoY05NVFV4TVRFek1ESXhOVEE1V2hjTk1qTXdNakEzTWpFME9EUTNXakNCaVRFM01EVUdBMVVFQXd3dVRXRmpJRUZ3Y0NCVGRHOXlaU0JoYm1RZ2FWUjFibVZ6SUZOMGIzSmxJRkpsWTJWcGNIUWdVMmxuYm1sdVp6RXNNQ29HQTFVRUN3d2pRWEJ3YkdVZ1YyOXliR1IzYVdSbElFUmxkbVZzYjNCbGNpQlNaV3hoZEdsdmJuTXhFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcGMrQi9TV2lnVnZXaCswajJqTWNqdUlqd0tYRUpzczl4cC9zU2cxVmh2K2tBdGVYeWpsVWJYMS9zbFFZbmNRc1VuR09aSHVDem9tNlNkWUk1YlNJY2M4L1cwWXV4c1FkdUFPcFdLSUVQaUY0MWR1MzBJNFNqWU5NV3lwb041UEM4cjBleE5LaERFcFlVcXNTNCszZEg1Z1ZrRFV0d3N3U3lvMUlnZmRZZUZScjZJd3hOaDlLQmd4SFZQTTNrTGl5a29sOVg2U0ZTdUhBbk9DNnBMdUNsMlAwSzVQQi9UNXZ5c0gxUEttUFVockFKUXAyRHQ3K21mNy93bXYxVzE2c2MxRkpDRmFKekVPUXpJNkJBdENnbDdaY3NhRnBhWWVRRUdnbUpqbTRIUkJ6c0FwZHhYUFEzM1k3MkMzWmlCN2o3QWZQNG83UTAvb21WWUh2NGdOSkl3SURBUUFCbzRJQjF6Q0NBZE13UHdZSUt3WUJCUVVIQVFFRU16QXhNQzhHQ0NzR0FRVUZCekFCaGlOb2RIUndPaTh2YjJOemNDNWhjSEJzWlM1amIyMHZiMk56Y0RBekxYZDNaSEl3TkRBZEJnTlZIUTRFRmdRVWthU2MvTVIydDUrZ2l2Uk45WTgyWGUwckJJVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCU0lKeGNKcWJZWVlJdnM2N3IyUjFuRlVsU2p0ekNDQVI0R0ExVWRJQVNDQVJVd2dnRVJNSUlCRFFZS0tvWklodmRqWkFVR0FUQ0IvakNCd3dZSUt3WUJCUVVIQWdJd2diWU1nYk5TWld4cFlXNWpaU0J2YmlCMGFHbHpJR05sY25ScFptbGpZWFJsSUdKNUlHRnVlU0J3WVhKMGVTQmhjM04xYldWeklHRmpZMlZ3ZEdGdVkyVWdiMllnZEdobElIUm9aVzRnWVhCd2JHbGpZV0pzWlNCemRHRnVaR0Z5WkNCMFpYSnRjeUJoYm1RZ1kyOXVaR2wwYVc5dWN5QnZaaUIxYzJVc0lHTmxjblJwWm1sallYUmxJSEJ2YkdsamVTQmhibVFnWTJWeWRHbG1hV05oZEdsdmJpQndjbUZqZEdsalpTQnpkR0YwWlcxbGJuUnpMakEyQmdnckJnRUZCUWNDQVJZcWFIUjBjRG92TDNkM2R5NWhjSEJzWlM1amIyMHZZMlZ5ZEdsbWFXTmhkR1ZoZFhSb2IzSnBkSGt2TUE0R0ExVWREd0VCL3dRRUF3SUhnREFRQmdvcWhraUc5Mk5rQmdzQkJBSUZBREFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBRGFZYjB5NDk0MXNyQjI1Q2xtelQ2SXhETUlKZjRGelJqYjY5RDcwYS9DV1MyNHlGdzRCWjMrUGkxeTRGRkt3TjI3YTQvdncxTG56THJSZHJqbjhmNUhlNXNXZVZ0Qk5lcGhtR2R2aGFJSlhuWTR3UGMvem83Y1lmcnBuNFpVaGNvT0FvT3NBUU55MjVvQVE1SDNPNXlBWDk4dDUvR2lvcWJpc0IvS0FnWE5ucmZTZW1NL2oxbU9DK1JOdXhUR2Y4YmdwUHllSUdxTktYODZlT2ExR2lXb1IxWmRFV0JHTGp3Vi8xQ0tuUGFObVNBTW5CakxQNGpRQmt1bGhnd0h5dmozWEthYmxiS3RZZGFHNllRdlZNcHpjWm04dzdISG9aUS9PamJiOUlZQVlNTnBJcjdONFl0UkhhTFNQUWp2eWdhWndYRzU2QWV6bEhSVEJoTDhjVHFBPT0iOwoJInB1cmNoYXNlLWluZm8iID0gImV3b0pJbTl5YVdkcGJtRnNMWEIxY21Ob1lYTmxMV1JoZEdVdGNITjBJaUE5SUNJeU1ERTRMVEEzTFRBMUlEQXhPakkyT2pVM0lFRnRaWEpwWTJFdlRHOXpYMEZ1WjJWc1pYTWlPd29KSW1sekxXbHVMV2x1ZEhKdkxXOW1abVZ5TFhCbGNtbHZaQ0lnUFNBaVptRnNjMlVpT3dvSkluQjFjbU5vWVhObExXUmhkR1V0YlhNaUlEMGdJakUxTXpBM056azFNalF3TURBaU93b0pJblZ1YVhGMVpTMXBaR1Z1ZEdsbWFXVnlJaUE5SUNJMk1EVmtaR1poWkRBd01HSmpNV1kyTnpaa01ERXdNalV4WW1NME1HWTJOekkwWXpBeFl6SXlJanNLQ1NKdmNtbG5hVzVoYkMxMGNtRnVjMkZqZEdsdmJpMXBaQ0lnUFNBaU1UQXdNREF3TURReE5ESTJOVFkyTlNJN0Nna2laWGh3YVhKbGN5MWtZWFJsSWlBOUlDSXhOVE13TnpjNU9ESTBNREF3SWpzS0NTSjBjbUZ1YzJGamRHbHZiaTFwWkNJZ1BTQWlNVEF3TURBd01EUXhOREkyT1RRMk5pSTdDZ2tpY1hWaGJuUnBkSGtpSUQwZ0lqRWlPd29KSW5kbFlpMXZjbVJsY2kxc2FXNWxMV2wwWlcwdGFXUWlJRDBnSWpFd01EQXdNREF3TXprek56RTFNREFpT3dvSkltOXlhV2RwYm1Gc0xYQjFjbU5vWVhObExXUmhkR1V0YlhNaUlEMGdJakUxTXpBM056a3lNVGN3TURBaU93b0pJblZ1YVhGMVpTMTJaVzVrYjNJdGFXUmxiblJwWm1sbGNpSWdQU0FpUWpFNE4wUkdPVEl0UXpNMk1pMDBOa1V3TFVGQk5EVXRORUpCTmpsQ01FVTBPVE0zSWpzS0NTSmxlSEJwY21WekxXUmhkR1V0Wm05eWJXRjBkR1ZrTFhCemRDSWdQU0FpTWpBeE9DMHdOeTB3TlNBd01Ub3pOem93TkNCQmJXVnlhV05oTDB4dmMxOUJibWRsYkdWeklqc0tDU0pwZEdWdExXbGtJaUE5SUNJeE16YzRNemM1TVRBMklqc0tDU0psZUhCcGNtVnpMV1JoZEdVdFptOXliV0YwZEdWa0lpQTlJQ0l5TURFNExUQTNMVEExSURBNE9qTTNPakEwSUVWMFl5OUhUVlFpT3dvSkltOXlhV2RwYm1Gc0xYQjFjbU5vWVhObExXUmhkR1VpSUQwZ0lqSXdNVGd0TURjdE1EVWdNRGc2TWpZNk5UY2dSWFJqTDBkTlZDSTdDZ2tpY0hKdlpIVmpkQzFwWkNJZ1BTQWllV1puZFhOME5HeDBNM0JoWTJ0aFoyVXpNQ0k3Q2draWNIVnlZMmhoYzJVdFpHRjBaU0lnUFNBaU1qQXhPQzB3Tnkwd05TQXdPRG96TWpvd05DQkZkR012UjAxVUlqc0tDU0pwY3kxMGNtbGhiQzF3WlhKcGIyUWlJRDBnSW1aaGJITmxJanNLQ1NKd2RYSmphR0Z6WlMxa1lYUmxMWEJ6ZENJZ1BTQWlNakF4T0Mwd055MHdOU0F3TVRvek1qb3dOQ0JCYldWeWFXTmhMMHh2YzE5QmJtZGxiR1Z6SWpzS0NTSmlhV1FpSUQwZ0ltTnZiUzVoWm5KcFkyRnVibVYwZDI5eWEzUjJMbUZ1ZEhadmRIUWlPd29KSW1KMmNuTWlJRDBnSWpFaU93cDkiOwoJImVudmlyb25tZW50IiA9ICJTYW5kYm94IjsKCSJwb2QiID0gIjEwMCI7Cgkic2lnbmluZy1zdGF0dXMiID0gIjAiOwp9",
    "latest_receipt_info": {"original_purchase_date_pst": "2018-07-05 01:26:57 America/Los_Angeles",
                            "is_in_intro_offer_period": "false", "purchase_date_ms": "1530779524000",
                            "unique_identifier": "605ddfad000bc1f676d010251bc40f6724c01c22",
                            "original_transaction_id": "1000000395648357", "expires_date": "1530779824000",
                            "transaction_id": "1000000414269466", "quantity": "1",
                            "web_order_line_item_id": "1000000395648357", "original_purchase_date_ms": "1530779217000",
                            "unique_vendor_identifier": "B187DF92-C362-46E0-AA45-4BA69B0E4937",
                            "expires_date_formatted_pst": "2018-07-05 01:37:04 America/Los_Angeles",
                            "item_id": "1378379106", "expires_date_formatted": "2018-07-05 08:37:04 Etc/GMT",
                            "original_purchase_date": "2018-07-05 08:26:57 Etc/GMT",
                            "product_id": "yfgust4lt3package30", "purchase_date": "2018-07-05 08:32:04 Etc/GMT",
                            "is_trial_period": "false", "purchase_date_pst": "2018-07-05 01:32:04 America/Los_Angeles",
                            "bid": "com.africannetworktv.antvott", "bvrs": "1"}, "environment": "Sandbox",
    "auto_renew_status": "true", "password": "d627fb557a374227bed74b410ff35120",
    "auto_renew_product_id": "9l5qlkj288package30", "notification_type": "RENEWAL"}

print(context.get_subscription_info(apple_request))
